<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Ceyhun xGPT Tools v3 ‚Äì Dropshipping Suite</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --bg-main: #020617;
            --bg-card: #020617;
            --bg-elevated: #020617;
            --accent-gold: #facc15;
            --accent-gold-soft: rgba(250, 204, 21, 0.16);
            --accent-green: #22c55e;
            --text-main: #f9fafb;
            --text-muted: #9ca3af;
            --border-subtle: #1f2937;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: radial-gradient(circle at top, #020617 0, #020617 55%, #000000 100%);
            color: var(--text-main);
            height: 100vh;
            overflow: hidden;
        }

        .layout {
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* SIDEBAR */
        .sidebar {
            width: 260px;
            background: #020617;
            border-right: 1px solid var(--border-subtle);
            padding: 10px 10px 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            overflow-y: auto;
        }

        .brand-box {
            padding: 10px 12px;
            border-radius: 16px;
            background: radial-gradient(circle at top left, rgba(250, 204, 21, 0.24), transparent 55%);
            border: 1px solid rgba(250, 204, 21, 0.6);
            margin-bottom: 4px;
        }

        .brand-title {
            font-size: 14px;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--accent-gold);
            font-weight: 600;
        }

        .brand-sub {
            font-size: 11px;
            color: var(--text-muted);
        }

        .nav-label {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: var(--text-muted);
            margin: 6px 2px 4px;
        }

        .nav-btn {
            all: unset;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 10px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 13px;
            color: var(--text-muted);
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(30, 64, 175, 0.1);
            margin-bottom: 4px;
        }

        .nav-btn span.icon {
            width: 24px;
            height: 24px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .nav-btn:hover {
            border-color: rgba(148, 163, 184, 0.6);
        }

        .nav-btn.active-btn {
            background: radial-gradient(circle at left, rgba(250, 204, 21, 0.2), rgba(15, 23, 42, 0.96));
            color: var(--text-main);
            border-color: rgba(250, 204, 21, 0.7);
        }

        .nav-pill {
            margin-left: auto;
            font-size: 10px;
            padding: 1px 8px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.4);
            color: var(--text-muted);
        }

        .sidebar-footer {
            margin-top: auto;
            font-size: 11px;
            color: var(--text-muted);
            border-top: 1px dashed rgba(55, 65, 81, 0.9);
            padding-top: 8px;
        }

        .ai-toggle-btn {
            margin-top: 4px;
        }

        .ai-status-pill {
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            padding: 1px 6px;
            font-size: 10px;
            margin-left: 4px;
        }

        /* MAIN */
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 12px 16px 18px;
            overflow: hidden;
        }

        .topbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 10px;
        }

        .top-left {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .top-title {
            font-size: 18px;
            font-weight: 600;
        }

        .top-sub {
            font-size: 12px;
            color: var(--text-muted);
        }

        .top-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .chip {
            font-size: 11px;
            padding: 2px 9px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            color: var(--text-muted);
        }

        .chip.gold {
            border-color: rgba(250, 204, 21, 0.9);
            color: #fef9c3;
            background: var(--accent-gold-soft);
        }

        .chip.green {
            border-color: rgba(34, 197, 94, 0.9);
            color: #bbf7d0;
            background: rgba(21, 128, 61, 0.22);
        }

        .content-scroll {
            flex: 1;
            overflow-y: auto;
            padding-right: 4px;
        }

        .panel {
            display: none;
            animation: fadeIn 0.25s ease-out;
        }

        .panel.active-panel {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(4px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .grid-2 {
            display: grid;
            grid-template-columns: minmax(0, 1.35fr) minmax(0, 1fr);
            gap: 12px;
        }

        @media (max-width: 960px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: linear-gradient(to bottom right, rgba(15, 23, 42, 0.98), #020617);
            border-radius: 16px;
            border: 1px solid rgba(31, 41, 55, 0.95);
            padding: 14px 14px 12px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 8px;
        }

        .card-title {
            font-size: 14px;
            font-weight: 600;
        }

        .card-sub {
            font-size: 11px;
            color: var(--text-muted);
        }

        .badge-soft {
            font-size: 10px;
            border-radius: 999px;
            padding: 2px 8px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            color: var(--text-muted);
        }

        .badge-soft.gold {
            border-color: rgba(250, 204, 21, 0.9);
            color: #fef9c3;
        }

        .badge-soft.green {
            border-color: rgba(34, 197, 94, 0.9);
            color: #bbf7d0;
        }

        label {
            display: block;
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 2px;
        }

        input, textarea, select {
            width: 100%;
            padding: 7px 9px;
            border-radius: 10px;
            border: 1px solid rgba(55, 65, 81, 0.95);
            background: rgba(15, 23, 42, 0.96);
            color: var(--text-main);
            font-size: 12px;
            outline: none;
        }

        input:focus, textarea:focus, select:focus {
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.3);
        }

        textarea {
            resize: vertical;
            min-height: 70px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 8px;
            margin-bottom: 6px;
        }

        .btn {
            all: unset;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 8px 12px;
            border-radius: 999px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 6px;
        }

        .btn-primary {
            background: linear-gradient(to right, #facc15, #eab308);
            color: #022c22;
            font-weight: 600;
        }

        .btn-outline {
            border: 1px solid rgba(148, 163, 184, 0.7);
            color: var(--text-muted);
        }

        .metrics-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 8px;
            margin-top: 8px;
        }

        .metric {
            padding: 8px 9px;
            border-radius: 12px;
            background: rgba(15, 23, 42, 0.96);
            border: 1px solid rgba(31, 41, 55, 0.95);
        }

        .metric-label {
            font-size: 11px;
            color: var(--text-muted);
        }

        .metric-value {
            font-size: 14px;
            font-weight: 600;
            margin-top: 2px;
        }

        .metric-pill {
            font-size: 10px;
            border-radius: 999px;
            padding: 1px 7px;
            margin-top: 3px;
            display: inline-block;
        }

        .metric-pill.gold {
            background: var(--accent-gold-soft);
            color: #fef9c3;
        }

        .metric-pill.green {
            background: rgba(34, 197, 94, 0.14);
            color: #bbf7d0;
        }

        .metric-pill.red {
            background: rgba(248, 113, 113, 0.16);
            color: #fecaca;
        }

        .analysis-box {
            margin-top: 8px;
            padding: 8px 9px;
            border-radius: 12px;
            border: 1px dashed rgba(75, 85, 99, 0.9);
            background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.5), rgba(15, 23, 42, 0.98));
            font-size: 12px;
            color: #e5e7eb;
        }

        .analysis-header {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            color: #bfdbfe;
            margin-bottom: 3px;
        }

        .tag-row {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-top: 6px;
        }

        .tag {
            font-size: 10px;
            padding: 2px 7px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.6);
            color: var(--text-muted);
        }

        .tag.green {
            border-color: rgba(34, 197, 94, 0.9);
            color: #bbf7d0;
        }

        .tag.red {
            border-color: rgba(248, 113, 113, 0.9);
            color: #fecaca;
        }

        .tag.gold {
            border-color: rgba(250, 204, 21, 0.9);
            color: #fef9c3;
        }

        .mini-thumb {
            width: 100%;
            height: 110px;
            border-radius: 12px;
            background: radial-gradient(circle at top left, rgba(250, 204, 21, 0.18), rgba(15, 23, 42, 0.98));
            border: 1px solid rgba(148, 163, 184, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
            padding: 6px;
        }

        .small-note {
            font-size: 10px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        ul.compact {
            margin: 4px 0;
            padding-left: 18px;
            font-size: 12px;
        }

        ul.compact li { margin-bottom: 3px; }

        /* PRINT (PDF) ‚Äì sadece Mini AI paneli */
        @media print {
            body, html {
                margin: 0;
                padding: 0;
                background: #ffffff;
                color: #000000;
                height: auto;
                overflow: visible;
            }
            .sidebar, .topbar {
                display: none !important;
            }
            .panel {
                display: none !important;
            }
            .panel.print-active {
                display: block !important;
            }
            .card {
                border-radius: 0;
                border: none;
                background: #ffffff;
                color: #000000;
            }
            .analysis-box {
                background: #f9fafb;
                border-color: #cbd5f5;
            }
        }

        @media (max-width: 900px) {
            .layout {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: auto;
                flex-direction: row;
                overflow-x: auto;
                overflow-y: visible;
            }
            .nav-btn {
                min-width: 220px;
                flex-shrink: 0;
            }
            .main {
                padding: 10px 10px 14px;
                height: calc(100vh - 90px);
            }
        }
    </style>
</head>
<body>
<div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="brand-box">
            <div class="brand-title">Ceyhun xGPT ‚Ä¢ v3</div>
            <div class="brand-sub">Black & Gold Dropshipping Suite ‚Ä¢ GitHub Pages</div>
        </div>

        <div class="nav-label">Paneller</div>
        <button class="nav-btn" data-target="panel-mini-ai">
            <span class="icon">üîó</span>
            Mini AI Link Analiz
            <span class="nav-pill">V3</span>
        </button>
        <button class="nav-btn" data-target="panel-drop">
            <span class="icon">üì¶</span>
            Drop Analyzer
            <span class="nav-pill">Manuel</span>
        </button>
        <button class="nav-btn" data-target="panel-product">
            <span class="icon">üõí</span>
            Product Finder
        </button>
        <button class="nav-btn" data-target="panel-profit">
            <span class="icon">üí∞</span>
            Profit Calculator
        </button>
        <button class="nav-btn" data-target="panel-trend">
            <span class="icon">üìà</span>
            Trend Explorer
        </button>
        <button class="nav-btn" data-target="panel-competitor">
            <span class="icon">üè™</span>
            Rakip Analizi
        </button>
        <button class="nav-btn" data-target="panel-seo">
            <span class="icon">üìù</span>
            eBay SEO
        </button>
        <button class="nav-btn" data-target="panel-auto-cat">
            <span class="icon">üß†</span>
            Auto Category
        </button>
        <button class="nav-btn" data-target="panel-revenue">
            <span class="icon">üí∏</span>
            Ciro Tahmini
        </button>

        <button class="nav-btn ai-toggle-btn" onclick="toggleAI()">
            <span class="icon">ü§ñ</span>
            AI Mode
            <span class="ai-status-pill" id="ai-status">Kapalƒ±</span>
        </button>

        <div class="sidebar-footer">
            Local Mini AI aktif.  
            ƒ∞leride OpenAI API key ekleyerek ‚Äúger√ßek ChatGPT‚Äù moduna alƒ±nabilir.
        </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
        <div class="topbar">
            <div class="top-left">
                <div class="top-title">Ceyhun xGPT Tools v3</div>
                <div class="top-sub">eBay dropshipping i√ßin √ºcretsiz, yerel Mini AI destekli analiz paneli.</div>
            </div>
            <div class="top-tags">
                <div class="chip gold">Black & Gold UI</div>
                <div class="chip green">√úcretsiz ‚Ä¢ Local motor</div>
                <div class="chip">GitHub Pages ‚Ä¢ Mobile Ready</div>
            </div>
        </div>

        <div class="content-scroll">
            <!-- MINI AI LINK ANALYZER -->
            <section class="panel" id="panel-mini-ai">
                <div class="grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <div class="card-title">üîó Mini AI Link Analiz v3</div>
                                <div class="card-sub">Sadece eBay linkini gir ‚Üí √ºr√ºn √∂zeti, fiyat & k√¢r, trend & rekabet, tedarik√ßi √∂nerisi al.</div>
                            </div>
                            <span class="badge-soft gold">√úcretsiz Mini AI</span>
                        </div>

                        <label>eBay √úr√ºn Linki</label>
                        <input id="mini-link" placeholder="https://www.ebay.co.uk/itm/...">
                        <div class="small-note">
                            Not: Bu sistem ger√ßek scraping yapmaz; URL‚Äôden √ºr√ºn tipini okuyup tahmini analiz √ºretir. Tamamen local ve √ºcretsizdir.
                        </div>

                        <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;">
                            <button class="btn btn-primary" onclick="runMiniAI()">üß† Mini AI Analiz √áalƒ±≈ütƒ±r</button>
                            <button class="btn btn-outline" onclick="printMiniReport()">üìÑ Raporu Yazdƒ±r / PDF</button>
                        </div>

                        <div id="mini-main" style="margin-top:10px;display:none;">
                            <div class="metrics-row">
                                <div class="metric">
                                    <div class="metric-label">Tahmini Platform</div>
                                    <div class="metric-value" id="mini-platform"></div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Tahmini Kategori</div>
                                    <div class="metric-value" id="mini-category"></div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Drop Skoru</div>
                                    <div class="metric-value" id="mini-drop-score"></div>
                                    <span class="metric-pill gold" id="mini-drop-pill"></span>
                                </div>
                            </div>

                            <div class="analysis-box" style="margin-top:10px;">
                                <div class="analysis-header">Genel Yorum</div>
                                <div id="mini-summary"></div>
                            </div>
                        </div>
                    </div>

                    <div id="mini-report-cards">
                        <div class="card">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">üü© √úr√ºn √ñzeti</div>
                                    <div class="card-sub">URL slug √ºzerinden √ß√∂z√ºmlenen temel bilgiler.</div>
                                </div>
                            </div>
                            <div class="mini-thumb" id="mini-thumb">
                                √úr√ºn g√∂rsel √∂nizlemesi (temsili)  
                                <div style="font-size:10px;margin-top:2px;">
                                    Tam scraping i√ßin ayrƒ± backend gerekir; bu s√ºr√ºmde Mini AI sadece ba≈ülƒ±k/slug √ºzerinden yorum yapar.
                                </div>
                            </div>
                            <div class="analysis-box" style="margin-top:8px;">
                                <div class="analysis-header">Ba≈ülƒ±k & Ni≈ü</div>
                                <div id="mini-title-block"></div>
                                <div class="tag-row" id="mini-tags"></div>
                            </div>
                        </div>

                        <div class="card" style="margin-top:10px;">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">üü® Fiyat & K√¢r Tahmini</div>
                                    <div class="card-sub">Mini AI modeline g√∂re satƒ±≈ü fiyatƒ±, maliyet ve k√¢r marjƒ±.</div>
                                </div>
                            </div>
                            <div class="metrics-row">
                                <div class="metric">
                                    <div class="metric-label">Satƒ±≈ü Fiyat Aralƒ±ƒüƒ±</div>
                                    <div class="metric-value" id="mini-price-range"></div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Tahmini Maliyet</div>
                                    <div class="metric-value" id="mini-cost"></div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Tahmini K√¢r</div>
                                    <div class="metric-value" id="mini-profit"></div>
                                    <span class="metric-pill" id="mini-profit-pill"></span>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">K√¢r Marjƒ±</div>
                                    <div class="metric-value" id="mini-margin"></div>
                                </div>
                            </div>
                        </div>

                        <div class="card" style="margin-top:10px;">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">üü• Trend & Rekabet</div>
                                    <div class="card-sub">Trend skoru, rekabet seviyesi ve test √∂nerisi.</div>
                                </div>
                            </div>
                            <div class="metrics-row">
                                <div class="metric">
                                    <div class="metric-label">Trend Skoru</div>
                                    <div class="metric-value" id="mini-trend"></div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Rekabet Seviyesi</div>
                                    <div class="metric-value" id="mini-competition"></div>
                                </div>
                                <div class="metric">
                                    <div class="metric-label">Aylƒ±k Tahmini Satƒ±≈ü</div>
                                    <div class="metric-value" id="mini-monthly-sales"></div>
                                </div>
                            </div>
                            <div class="analysis-box" style="margin-top:8px;">
                                <div class="analysis-header">Test √ñnerisi</div>
                                <div id="mini-test-comment"></div>
                            </div>
                        </div>

                        <div class="card" style="margin-top:10px;">
                            <div class="card-header">
                                <div>
                                    <div class="card-title">üåê Tedarik√ßi √ñnerisi (Mini AI)</div>
                                    <div class="card-sub">CJ, Avasam, AliExpress ve Temu i√ßin hangi kelimelerle arama yapƒ±labilir?</div>
                                </div>
                            </div>
                            <div id="mini-supplier"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- DROP ANALYZER -->
            <section class="panel" id="panel-drop">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üì¶ Drop Analyzer (Manuel)</div>
                            <div class="card-sub">Alƒ±≈ü + satƒ±≈ü + √ºr√ºn ba≈ülƒ±ƒüƒ±na g√∂re klasik k√¢r ve skor analizi.</div>
                        </div>
                        <span class="badge-soft green">Manuel Mod</span>
                    </div>

                    <label>√úr√ºn Ba≈ülƒ±ƒüƒ±</label>
                    <textarea id="da-title" placeholder="√ñrn: Stainless Steel Kitchen Organizer Rack, 3 Tier"></textarea>

                    <div class="form-row" style="margin-top:4px;">
                        <div>
                            <label>Tedarik√ßi Alƒ±≈ü (¬£)</label>
                            <input id="da-cost" type="number" step="0.01">
                        </div>
                        <div>
                            <label>eBay Satƒ±≈ü (¬£)</label>
                            <input id="da-sell" type="number" step="0.01">
                        </div>
                        <div>
                            <label>Aylƒ±k Tahmini Satƒ±≈ü Adedi</label>
                            <input id="da-sales" type="number" step="1">
                        </div>
                    </div>

                    <label>Rekabet Seviyesi</label>
                    <select id="da-competition">
                        <option value="medium">Orta</option>
                        <option value="low">D√º≈ü√ºk</option>
                        <option value="high">Y√ºksek</option>
                    </select>

                    <button class="btn btn-primary" onclick="runDropAnalyzer()">‚ö° Analiz Et</button>

                    <div id="da-result"></div>
                </div>
            </section>

            <!-- PRODUCT FINDER -->
            <section class="panel" id="panel-product">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üõí Product Finder</div>
                            <div class="card-sub">Anahtar kelimeye g√∂re mantƒ±klƒ± √ºr√ºn fikirleri (set, bundle, kit) √ºretir.</div>
                        </div>
                    </div>

                    <label>Anahtar Kelime / Ni≈ü</label>
                    <input id="pf-keyword" placeholder="√ñrn: kitchen organizer, pet grooming, car interior">

                    <button class="btn btn-primary" onclick="runProductFinder()">üîé √úr√ºn Fikirleri √úret</button>

                    <div id="pf-result" style="margin-top:10px;"></div>
                </div>
            </section>

            <!-- PROFIT CALCULATOR -->
            <section class="panel" id="panel-profit">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üí∞ Profit Calculator</div>
                            <div class="card-sub">eBay + √∂deme kesintilerini dahil ederek net k√¢rƒ± hesaplar.</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div>
                            <label>Alƒ±≈ü (¬£)</label>
                            <input id="pc-cost" type="number" step="0.01">
                        </div>
                        <div>
                            <label>Satƒ±≈ü (¬£)</label>
                            <input id="pc-sell" type="number" step="0.01">
                        </div>
                        <div>
                            <label>Kargo Maliyeti (¬£)</label>
                            <input id="pc-ship" type="number" step="0.01">
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="runProfitCalc()">üí∏ K√¢rƒ± Hesapla</button>

                    <div id="pc-result" style="margin-top:10px;"></div>
                </div>
            </section>

            <!-- TREND EXPLORER -->
            <section class="panel" id="panel-trend">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üìà Trend Explorer</div>
                            <div class="card-sub">Kategori / kelime bazlƒ± basit trend skoru.</div>
                        </div>
                    </div>

                    <label>Kelime / Kategori</label>
                    <input id="tr-keyword" placeholder="√ñrn: home office, pet grooming, gym equipment">

                    <button class="btn btn-primary" onclick="runTrend()">Trend Analizi √áalƒ±≈ütƒ±r</button>

                    <div id="tr-result" style="margin-top:10px;"></div>
                </div>
            </section>

            <!-- RAKƒ∞P ANALƒ∞Zƒ∞ -->
            <section class="panel" id="panel-competitor">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üè™ Rakip Maƒüaza Analizi</div>
                            <div class="card-sub">Maƒüaza adƒ±ndan tahmini rekabet skoru √ºretir.</div>
                        </div>
                    </div>

                    <label>Rakip eBay Maƒüaza Adƒ±</label>
                    <input id="cs-store" placeholder="√ñrn: best_home_store_uk">

                    <button class="btn btn-primary" onclick="runCompetitor()">üß† Rakip Analizi √áalƒ±≈ütƒ±r</button>

                    <div id="cs-result" style="margin-top:10px;"></div>
                </div>
            </section>

            <!-- SEO -->
            <section class="panel" id="panel-seo">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üìù eBay SEO Optimizer</div>
                            <div class="card-sub">Ba≈ülƒ±k uzunluƒüu, kelime yapƒ±sƒ± ve ek √∂neriler.</div>
                        </div>
                    </div>

                    <label>Mevcut Ba≈ülƒ±k</label>
                    <textarea id="seo-title" placeholder="√ñrn: Stainless Steel Kitchen Organizer Rack, 3 Tier"></textarea>

                    <button class="btn btn-primary" onclick="runSEO()">üîç SEO Analizi</button>

                    <div id="seo-result" style="margin-top:10px;"></div>
                </div>
            </section>

            <!-- AUTO CATEGORY -->
            <section class="panel" id="panel-auto-cat">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üß† Auto Category AI</div>
                            <div class="card-sub">Ba≈ülƒ±ktan tahmini eBay kategorisi.</div>
                        </div>
                    </div>

                    <label>√úr√ºn Ba≈ülƒ±ƒüƒ±</label>
                    <textarea id="cat-title"></textarea>

                    <button class="btn btn-primary" onclick="runAutoCat()">Kategori Bul</button>

                    <div id="cat-result" style="margin-top:10px;"></div>
                </div>
            </section>

            <!-- Cƒ∞RO TAHMƒ∞Nƒ∞ -->
            <section class="panel" id="panel-revenue">
                <div class="card">
                    <div class="card-header">
                        <div>
                            <div class="card-title">üí∏ Maƒüaza Ciro Tahmini</div>
                            <div class="card-sub">√úr√ºn sayƒ±sƒ± + g√ºnl√ºk satƒ±≈ü + ortalama fiyata g√∂re.</div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div>
                            <label>Toplam √úr√ºn Sayƒ±sƒ±</label>
                            <input id="rev-prod" type="number">
                        </div>
                        <div>
                            <label>G√ºnl√ºk Satƒ±≈ü Adedi</label>
                            <input id="rev-daily" type="number">
                        </div>
                        <div>
                            <label>Ortalama Fiyat (¬£)</label>
                            <input id="rev-price" type="number" step="0.01">
                        </div>
                    </div>

                    <button class="btn btn-primary" onclick="runRevenue()">üìä Ciro Hesapla</button>

                    <div id="rev-result" style="margin-top:10px;"></div>
                </div>
            </section>
        </div>
    </main>
</div>

<script>
    let AI_MODE = false;

    function clamp(v, min, max) {
        return Math.min(Math.max(v, min), max);
    }

    function toMoney(n) {
        if (isNaN(n)) return "¬£0.00";
        return "¬£" + n.toFixed(2);
    }

    // NAV & PANELS
    const navButtons = document.querySelectorAll('.nav-btn[data-target]');
    const panels = document.querySelectorAll('.panel');

    function showPanel(id) {
        panels.forEach(p => p.classList.remove('active-panel'));
        const target = document.getElementById(id);
        if (target) target.classList.add('active-panel');

        navButtons.forEach(btn => {
            const t = btn.getAttribute('data-target');
            btn.classList.toggle('active-btn', t === id);
        });
    }

    if (navButtons.length > 0) {
        const firstTarget = navButtons[0].getAttribute('data-target');
        showPanel(firstTarget);
    }

    navButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const id = btn.getAttribute('data-target');
            if (id) showPanel(id);
        });
    });

    // MINI AI LINK ANALIZ V3
    function runMiniAI() {
        const input = (document.getElementById('mini-link').value || "").trim();
        if (!input) {
            alert("Kanka, √∂nce eBay linkini yapƒ±≈ütƒ±ralƒ±m :)");
            return;
        }

        let host = "";
        let path = "";
        try {
            const u = new URL(input);
            host = u.hostname || "";
            path = u.pathname || "";
        } catch (e) {
            const parts = input.split("/");
            host = parts[2] || "";
            path = input.replace(host, "");
        }

        let platform = "Bilinmiyor";
        if (host.includes("ebay.co.uk")) platform = "eBay UK";
        else if (host.includes("ebay.com")) platform = "eBay US";
        else if (host.includes("ebay")) platform = "eBay";

        let slug = path.split("/").pop() || "";
        slug = slug.split("?")[0];
        slug = decodeURIComponent(slug);
        slug = slug.replace(/[-_]/g, " ");
        const rawWords = slug.split(/\s+/).filter(Boolean);
        const words = rawWords.filter(w =>
            !/^\d+$/.test(w) &&
            !["itm","dp","gp","pp","item"].includes(w.toLowerCase())
        );

        const titleGuess = words.length ? words.join(" ") : "Genel √ºr√ºn (slug √ß√∂z√ºlemedi)";

        const lowTitle = titleGuess.toLowerCase();
        let category = "Genel";
        if (lowTitle.includes("dog") || lowTitle.includes("cat") || lowTitle.includes("pet"))
            category = "Pet Supplies";
        else if (lowTitle.includes("kitchen") || lowTitle.includes("rack") || lowTitle.includes("organizer") || lowTitle.includes("storage"))
            category = "Home & Kitchen";
        else if (lowTitle.includes("car") || lowTitle.includes("auto") || lowTitle.includes("vehicle"))
            category = "Car Accessories";
        else if (lowTitle.includes("phone") || lowTitle.includes("case") || lowTitle.includes("iphone") || lowTitle.includes("samsung"))
            category = "Mobile Accessories";
        else if (lowTitle.includes("toy") || lowTitle.includes("kids") || lowTitle.includes("baby"))
            category = "Toys & Kids";
        else if (lowTitle.includes("lamp") || lowTitle.includes("light") || lowTitle.includes("led"))
            category = "Lighting";
        else if (lowTitle.includes("gym") || lowTitle.includes("fitness") || lowTitle.includes("workout"))
            category = "Sports & Fitness";

        // fiyat modeli v3
        let basePrice = 19.99;
        if (category === "Pet Supplies") basePrice = 14.99;
        if (category === "Home & Kitchen") basePrice = 18.49;
        if (category === "Car Accessories") basePrice = 16.49;
        if (category === "Mobile Accessories") basePrice = 9.99;
        if (category === "Toys & Kids") basePrice = 13.99;
        if (category === "Lighting") basePrice = 18.99;
        if (category === "Sports & Fitness") basePrice = 21.99;

        if (lowTitle.includes("set") || lowTitle.includes("pack") || lowTitle.includes("bundle")) basePrice += 3;
        if (lowTitle.includes("pro") || lowTitle.includes("premium")) basePrice += 4;
        if (lowTitle.includes("mini") || lowTitle.includes("small")) basePrice -= 2;

        const minPrice = basePrice - 3;
        const maxPrice = basePrice + 4;

        let costFactor = 0.6;
        if (category === "Mobile Accessories") costFactor = 0.4;
        if (category === "Pet Supplies") costFactor = 0.55;
        const supplierCost = basePrice * costFactor;

        const fees = basePrice * 0.15;
        const estProfit = basePrice - supplierCost - fees;
        const marginPct = (estProfit / basePrice) * 100;

        let trendScore = 55;
        if (category === "Pet Supplies" || category === "Home & Kitchen") trendScore += 12;
        if (category === "Sports & Fitness") trendScore += 10;
        if (category === "Mobile Accessories") trendScore -= 6;

        if (lowTitle.includes("2024") || lowTitle.includes("2025") || lowTitle.includes("new")) trendScore += 5;
        if (lowTitle.includes("christmas") || lowTitle.includes("xmas") || lowTitle.includes("gift")) trendScore += 4;

        trendScore = clamp(trendScore, 20, 95);

        let competition = "Orta";
        if (category === "Mobile Accessories") competition = "Y√ºksek";
        else if (category === "Pet Supplies" || category === "Home & Kitchen") competition = "Orta";
        else competition = "Orta-Y√ºksek";

        let dropScore = trendScore;
        if (marginPct > 30) dropScore += 8;
        else if (marginPct < 20) dropScore -= 5;
        if (competition === "Y√ºksek") dropScore -= 7;
        dropScore = clamp(dropScore, 10, 98);

        let risk = "Orta";
        if (dropScore >= 75) risk = "D√º≈ü√ºk";
        else if (dropScore <= 45) risk = "Y√ºksek";

        let monthlySales = 20;
        if (trendScore >= 70) monthlySales = 35;
        if (trendScore >= 80) monthlySales = 50;
        if (trendScore <= 40) monthlySales = 10;

        // Ana √∂zet
        document.getElementById('mini-main').style.display = 'block';
        document.getElementById('mini-platform').textContent = platform;
        document.getElementById('mini-category').textContent = category;
        document.getElementById('mini-drop-score').textContent = dropScore.toFixed(0) + "/100";

        const dropPill = document.getElementById('mini-drop-pill');
        dropPill.textContent = risk === "D√º≈ü√ºk" ? "Girmeye uygun (tahmini)" : (risk === "Y√ºksek" ? "Riskli √ºr√ºn" : "Test edilebilir");
        dropPill.className = "metric-pill gold";
        if (risk === "Y√ºksek") dropPill.classList.add("red");
        if (risk === "D√º≈ü√ºk") dropPill.classList.add("green");

        const summaryLines = [];
        summaryLines.push(`‚Ä¢ URL, Mini AI tarafƒ±ndan ‚Äú${titleGuess.substring(0, 80)}${titleGuess.length > 80 ? "..." : ""}‚Äù gibi bir √ºr√ºn olarak algƒ±landƒ±.`);
        summaryLines.push(`‚Ä¢ Kategori tahmini: ${category}.`);
        summaryLines.push(`‚Ä¢ Tahmini drop skoru: ${dropScore.toFixed(0)}/100 (${risk} risk).`);
        summaryLines.push(`‚Ä¢ Bu skor, trend + k√¢r marjƒ± + rekabet tahminine g√∂re hesaplandƒ±.`);
        document.getElementById('mini-summary').innerHTML = summaryLines.join("<br>");

        // √úr√ºn √∂zeti kartƒ±
        document.getElementById('mini-title-block').innerHTML =
            `‚Ä¢ Tahmini ba≈ülƒ±k: <strong>${titleGuess}</strong><br>` +
            `‚Ä¢ URL host: ${host || "Bilinmiyor"}<br>` +
            `‚Ä¢ Kelime sayƒ±sƒ±: ${words.length}`;

        const tagsRow = document.getElementById('mini-tags');
        tagsRow.innerHTML = "";
        const addTag = (text, cls) => {
            const span = document.createElement('span');
            span.className = "tag " + (cls || "");
            span.textContent = text;
            tagsRow.appendChild(span);
        };
        if (category === "Pet Supplies") addTag("Pet ni≈üi", "green");
        if (category === "Home & Kitchen") addTag("Home & Kitchen", "green");
        if (category === "Car Accessories") addTag("Car Accessories", "gold");
        if (category === "Mobile Accessories") addTag("Mobile ‚Ä¢ Rekabet y√ºksek", "red");
        if (dropScore >= 75) addTag("Girmeye deƒüer (tahmini)", "green");
        if (trendScore >= 70) addTag("Trend g√º√ßl√º", "gold");
        if (dropScore <= 45) addTag("Riskli √ºr√ºn", "red");

        // fiyat & k√¢r kartƒ±
        document.getElementById('mini-price-range').textContent =
            "¬£" + minPrice.toFixed(2) + " ‚Äì ¬£" + maxPrice.toFixed(2);
        document.getElementById('mini-cost').textContent = toMoney(supplierCost);
        document.getElementById('mini-profit').textContent = toMoney(estProfit);
        document.getElementById('mini-margin').textContent = marginPct.toFixed(1) + "%";

        const profitPill = document.getElementById('mini-profit-pill');
        profitPill.className = "metric-pill";
        if (estProfit <= 0) {
            profitPill.classList.add("red");
            profitPill.textContent = "Zararda / ba≈üa ba≈ü (tahmini)";
        } else if (marginPct < 15) {
            profitPill.classList.add("red");
            profitPill.textContent = "D√º≈ü√ºk k√¢r (tahmini)";
        } else if (marginPct < 30) {
            profitPill.classList.add("gold");
            profitPill.textContent = "Orta k√¢r (tahmini)";
        } else {
            profitPill.classList.add("green");
            profitPill.textContent = "G√ºzel k√¢r (tahmini)";
        }

        // trend & rekabet kartƒ±
        document.getElementById('mini-trend').textContent = trendScore.toFixed(0) + "/100";
        document.getElementById('mini-competition').textContent = competition;
        document.getElementById('mini-monthly-sales').textContent = monthlySales + " adet/ay (tahmini)";

        let testComment = "";
        if (dropScore >= 80) {
            testComment = "Bu √ºr√ºn, Mini AI‚Äôe g√∂re g√º√ßl√º bir aday. Aynƒ± ni≈üte 3‚Äì5 √ºr√ºnle birlikte koleksiyon ≈üeklinde listelemek mantƒ±klƒ±.";
        } else if (dropScore >= 60) {
            testComment = "ƒ∞lk test i√ßin fena deƒüil. D√º≈ü√ºk b√ºt√ßeli bir test listelemesi yapƒ±p sonu√ßlara g√∂re karar verebilirsin.";
        } else if (dropScore >= 45) {
            testComment = "Orta riskli. Bunu ana √ºr√ºn deƒüil, yan √ºr√ºn olarak kullanmak daha mantƒ±klƒ± olabilir.";
        } else {
            testComment = "Mini AI bu √ºr√ºn i√ßin √ßok g√º√ßl√º sinyal vermiyor. Daha saƒülƒ±klƒ± ni≈ülere (Pet, Home & Kitchen vb.) aƒüƒ±rlƒ±k verebilirsin.";
        }
        document.getElementById('mini-test-comment').textContent = testComment;

        // tedarik√ßi √∂nerisi
        const sup = document.getElementById('mini-supplier');
        sup.innerHTML = buildSupplierHints(words, category, basePrice);

        // temsili g√∂rsel a√ßƒ±klamasƒ±
        document.getElementById('mini-thumb').innerHTML =
            "√úr√ºn g√∂rseli (temsili blok).<br><span style='font-size:10px;color:#9ca3af;'>√ñn y√ºz: " +
            (titleGuess.substring(0, 40)) + (titleGuess.length > 40 ? "..." : "") +
            "</span>";
    }

    function buildSupplierHints(words, category, basePrice) {
        const coreKeyword = (words[0] || "product").toLowerCase();
        const aliexpressRangeLow = (basePrice * 0.3).toFixed(2);
        const aliexpressRangeHigh = (basePrice * 0.55).toFixed(2);

        let cjKey = coreKeyword;
        if (category === "Home & Kitchen") cjKey = coreKeyword + " organizer";
        if (category === "Pet Supplies") cjKey = coreKeyword + " pet";
        if (category === "Car Accessories") cjKey = coreKeyword + " car";
        if (category === "Mobile Accessories") cjKey = coreKeyword + " phone";

        let avasamCat = "General Home";
        if (category === "Home & Kitchen") avasamCat = "Home & Garden";
        if (category === "Pet Supplies") avasamCat = "Pet Supplies";
        if (category === "Car Accessories") avasamCat = "Automotive";
        if (category === "Mobile Accessories") avasamCat = "Consumer Electronics";

        return `
            <div class="analysis-box">
                <div class="analysis-header">Tedarik√ßi Arama √ñnerileri</div>
                <strong>CJ Dropshipping:</strong><br>
                ‚Ä¢ Arama √ßubuƒüuna: <code>${cjKey}</code><br>
                ‚Ä¢ Filtre: UK Warehouse + NET invoice (m√ºmk√ºnse)<br><br>

                <strong>Avasam:</strong><br>
                ‚Ä¢ Kategori: <code>${avasamCat}</code><br>
                ‚Ä¢ Fiyat bandƒ±: ¬£${(basePrice * 0.4).toFixed(2)} ‚Äì ¬£${(basePrice * 0.7).toFixed(2)}<br><br>

                <strong>AliExpress:</strong><br>
                ‚Ä¢ Arama: <code>${coreKeyword}</code><br>
                ‚Ä¢ Fiyat beklentisi: ~¬£${aliexpressRangeLow} ‚Äì ¬£${aliexpressRangeHigh}<br><br>

                <strong>Temu / Diƒüer:</strong><br>
                ‚Ä¢ Aynƒ± kelime + ‚Äúset / bundle‚Äù ekleyerek benzer √ºr√ºnleri bulabilirsin.<br><br>

                Not: Bunlar Mini AI tahminleridir. Ger√ßek tedarik√ßiyi se√ßerken; deƒüerlendirme puanƒ±, yorumlar, iade politikasƒ± ve kargo s√ºresi mutlaka kontrol edilmeli.
            </div>
        `;
    }

    // PRINT / PDF (Mini AI paneli)
    function printMiniReport() {
        const panel = document.getElementById('panel-mini-ai');
        panel.classList.add('print-active');
        window.print();
        setTimeout(() => {
            panel.classList.remove('print-active');
        }, 500);
    }

    // DROP ANALYZER (manuel)
    function runDropAnalyzer() {
        const title = (document.getElementById('da-title').value || "").trim();
        const cost = parseFloat(document.getElementById('da-cost').value) || 0;
        const sell = parseFloat(document.getElementById('da-sell').value) || 0;
        const sales = parseInt(document.getElementById('da-sales').value) || 0;
        const comp = document.getElementById('da-competition').value;
        const out = document.getElementById('da-result');

        if (!title || !cost || !sell) {
            alert("Kanka, en azƒ±ndan ba≈ülƒ±k, alƒ±≈ü ve satƒ±≈ü fiyatƒ±nƒ± girmen lazƒ±m :)");
            return;
        }

        const fees = sell * 0.15;
        const profit = sell - cost - fees;
        const margin = sell > 0 ? (profit / sell) * 100 : 0;
        const monthlyProfit = profit * sales;

        let score = 50;
        if (margin > 30) score += 20;
        else if (margin > 20) score += 10;
        else if (margin < 10) score -= 15;

        if (sales >= 30) score += 15;
        else if (sales >= 15) score += 7;
        else if (sales === 0) score -= 10;

        if (comp === "low") score += 15;
        if (comp === "high") score -= 10;

        if (title.toLowerCase().includes("set") || title.toLowerCase().includes("pack")) score += 5;
        score = clamp(score, 0, 100);

        const lines = [];
        lines.push(`‚Ä¢ Ba≈ülƒ±k: ${title}`);
        lines.push(`‚Ä¢ Alƒ±≈ü: ${toMoney(cost)} | Satƒ±≈ü: ${toMoney(sell)} | Tahmini platform kesintisi: ${toMoney(fees)}`);
        lines.push(`‚Ä¢ Net k√¢r (adet): ${toMoney(profit)} (${margin.toFixed(1)}% marj)`);
        lines.push(`‚Ä¢ Aylƒ±k tahmini k√¢r: ${toMoney(monthlyProfit)}`);
        lines.push(`‚Ä¢ Genel drop skoru: ${score.toFixed(0)}/100`);

        if (profit <= 0) lines.push("Yorum: Bu h√¢liyle √ºr√ºn zararda / ba≈üa ba≈ü. Fiyat veya tedarik√ßiyi revize etmek gerekiyor.");
        else if (margin < 15) lines.push("Yorum: K√¢r var ama d√º≈ü√ºk. Sadece √ßok hƒ±zlƒ± d√∂nen √ºr√ºnler i√ßin anlamlƒ± olabilir.");
        else if (margin < 30) lines.push("Yorum: K√¢r marjƒ± dropshipping i√ßin kabul edilebilir seviyede.");
        else lines.push("Yorum: K√¢r marjƒ± gayet iyi. Rekabet uygunsa listelemeye deƒüer.");

        if (score >= 75) lines.push("Ek Not: Skor y√ºksek. Bu √ºr√ºn√º maƒüazada ni≈ü bir koleksiyonun par√ßasƒ± yapabilirsin.");
        else if (score >= 60) lines.push("Ek Not: Skor fena deƒüil, d√º≈ü√ºk b√ºt√ßeli test listelemesi yapƒ±labilir.");
        else lines.push("Ek Not: Skor zayƒ±f. Bu √ºr√ºn√º ana √ºr√ºn yerine tamamlayƒ±cƒ± √ºr√ºn gibi d√º≈ü√ºnmek daha mantƒ±klƒ± olabilir.");

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">Drop Analyzer Sonucu</div>
                ${lines.join("<br>")}
            </div>
        `;
    }

    // PRODUCT FINDER
    function runProductFinder() {
        const kw = (document.getElementById('pf-keyword').value || "").trim().toLowerCase();
        const out = document.getElementById('pf-result');
        if (!kw) {
            alert("Kanka, en azƒ±ndan bir anahtar kelime / ni≈ü yazalƒ±m :)");
            return;
        }

        const base = kw.length > 22 ? kw.slice(0, 22) : kw;
        const ideas = [
            base + " starter kit",
            "premium " + base + " bundle",
            base + " pro set",
            "compact " + base + " organizer",
            "multi-purpose " + base
        ];

        let html = `<div class="analysis-box">
            <div class="analysis-header">√ñnerilen √úr√ºn Fikirleri</div>
        `;
        ideas.forEach((i, idx) => {
            const price = 14.99 + idx * 2.2;
            const score = clamp(65 + idx * 4, 40, 90);
            html += `‚Ä¢ <strong>${i}</strong> ‚Äî tahmini satƒ±≈ü fiyatƒ±: ¬£${price.toFixed(2)} ‚Äî drop potansiyel skoru: ${score}/100<br>`;
        });
        html += `<br>ƒ∞pucu: UK deposu, NET fatura ve kolay kargolanabilir √ºr√ºnleri filtreleyerek ba≈ülaman daha saƒülƒ±klƒ± olur.</div>`;
        out.innerHTML = html;
    }

    // PROFIT CALC
    function runProfitCalc() {
        const cost = parseFloat(document.getElementById('pc-cost').value) || 0;
        const sell = parseFloat(document.getElementById('pc-sell').value) || 0;
        const ship = parseFloat(document.getElementById('pc-ship').value) || 0;
        const out = document.getElementById('pc-result');
        if (!cost || !sell) {
            alert("Kanka, alƒ±≈ü ve satƒ±≈ü fiyatƒ±nƒ± girmeden k√¢r hesaplayamam :)");
            return;
        }

        const ebayFee = sell * 0.13;
        const payFee = sell * 0.02;
        const totalCost = cost + ship + ebayFee + payFee;
        const profit = sell - totalCost;
        const margin = sell > 0 ? (profit / sell) * 100 : 0;

        let mood = "";
        if (profit <= 0) mood = "Bu yapƒ±da √ºr√ºn zararda / ba≈üa ba≈ü. Fiyatƒ± veya tedarik√ßiyi revize etmen gerekir.";
        else if (margin < 10) mood = "K√¢r d√º≈ü√ºk. Sadece √ßok hƒ±zlƒ± satan √ºr√ºnler i√ßin mantƒ±klƒ± olabilir.";
        else if (margin < 25) mood = "Marj orta seviye, test i√ßin uygun.";
        else mood = "Marj g√ºzel, doƒüru ni≈ü ve rekabette bu √ºr√ºn i≈ü yapar.";

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">K√¢r Hesabƒ±</div>
                ‚Ä¢ Tedarik√ßi: ${toMoney(cost)}<br>
                ‚Ä¢ Kargo: ${toMoney(ship)}<br>
                ‚Ä¢ eBay + √∂deme kesintisi: ${toMoney(ebayFee + payFee)}<br>
                ‚Ä¢ Toplam maliyet: ${toMoney(totalCost)}<br>
                ‚Ä¢ Net k√¢r: ${toMoney(profit)}<br>
                ‚Ä¢ K√¢r marjƒ±: ${margin.toFixed(1)}%<br><br>
                ${mood}
            </div>
        `;
    }

    // TREND
    function runTrend() {
        const kw = (document.getElementById('tr-keyword').value || "").trim().toLowerCase();
        const out = document.getElementById('tr-result');
        if (!kw) {
            alert("Kanka, trend i√ßin bir kelime / kategori yazalƒ±m :)");
            return;
        }

        let score = 50;
        if (kw.includes("pet")) score += 15;
        if (kw.includes("kitchen") || kw.includes("home")) score += 10;
        if (kw.includes("gym") || kw.includes("fitness")) score += 10;
        if (kw.includes("phone") || kw.includes("case")) score -= 5;
        score = clamp(score, 10, 95);

        let risk = "Orta";
        if (score >= 70) risk = "D√º≈ü√ºk";
        else if (score <= 40) risk = "Y√ºksek";

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">Trend Skoru</div>
                ‚Ä¢ Kelime: ${kw}<br>
                ‚Ä¢ Tahmini trend skoru: ${score}/100<br>
                ‚Ä¢ Risk: ${risk}<br><br>
                Not: Bu skor Mini AI tahminidir. ƒ∞leride ger√ßek arama hacmi datalarƒ±yla (Google Trends vb.) desteklenebilir.
            </div>
        `;
    }

    // RAKƒ∞P ANALƒ∞Zƒ∞
    function runCompetitor() {
        const store = (document.getElementById('cs-store').value || "").trim();
        const out = document.getElementById('cs-result');
        if (!store) {
            alert("Kanka, rakip maƒüaza adƒ±nƒ± yazmadan analiz yapamam :)");
            return;
        }

        let score = 65;
        const ls = store.toLowerCase();
        if (ls.includes("home") || ls.includes("store")) score += 5;
        if (ls.includes("official") || ls.includes("shop")) score += 5;
        score = clamp(score, 30, 95);

        let comment = "";
        if (score >= 80) comment = "Bu maƒüaza muhtemelen g√º√ßl√º bir rakip; √ºr√ºn, ba≈ülƒ±k ve fiyat optimizasyonu ile fark yaratman gerekir.";
        else if (score >= 60) comment = "Orta seviye rekabet. Doƒüru ni≈ü se√ßimi ve iyi g√∂rsellerle rahat√ßa yarƒ±≈üabilirsin.";
        else comment = "Rekabet d√º≈ü√ºk gibi g√∂r√ºn√ºyor, ni≈ü doƒüruysa g√ºzel fƒ±rsat olabilir.";

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">Rakip Maƒüaza Analizi</div>
                ‚Ä¢ Maƒüaza: ${store}<br>
                ‚Ä¢ Tahmini rekabet skoru: ${score}/100<br><br>
                ${comment}
            </div>
        `;
    }

    // SEO
    function runSEO() {
        const title = (document.getElementById('seo-title').value || "").trim();
        const out = document.getElementById('seo-result');
        if (!title) {
            alert("Kanka, √∂nce bir ba≈ülƒ±k yazalƒ±m :)");
            return;
        }

        const words = title.split(/\s+/).filter(Boolean);
        let score = 60;
        if (words.length < 5) score -= 10;
        if (words.length > 14) score -= 5;
        if (title.toLowerCase().includes("stainless")) score += 5;
        if (title.toLowerCase().includes("organizer") || title.toLowerCase().includes("storage")) score += 5;
        if (title.toLowerCase().includes("2024") || title.toLowerCase().includes("2025")) score += 5;
        score = clamp(score, 10, 100);

        const recommended = [
            "Fast UK Shipping",
            "2025 Trending",
            "High Quality",
            "Multi Purpose",
            "Gift Idea",
            "Home Use"
        ];

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">SEO Skoru</div>
                ‚Ä¢ Ba≈ülƒ±k: ${title}<br>
                ‚Ä¢ SEO Puanƒ±: ${score}/100<br><br>
                <strong>√ñnerilen ek kelimeler:</strong><br>
                ${recommended.map(k => "‚Ä¢ " + k).join("<br>")}<br><br>
                √ñrnek optimize ba≈ülƒ±k:<br>
                ${title} | Fast UK Shipping | 2025 Trending
            </div>
        `;
    }

    // AUTO CATEGORY
    function runAutoCat() {
        const title = (document.getElementById('cat-title').value || "").trim();
        const out = document.getElementById('cat-result');
        if (!title) {
            alert("Kanka, ba≈ülƒ±k olmadan kategori tahmini yapamam :)");
            return;
        }

        const t = title.toLowerCase();
        let cat = "Genel";
        if (t.includes("dog") || t.includes("cat") || t.includes("pet")) cat = "Pet Supplies";
        else if (t.includes("kitchen") || t.includes("rack") || t.includes("organizer") || t.includes("pan")) cat = "Home & Kitchen";
        else if (t.includes("car") || t.includes("auto")) cat = "Car Accessories";
        else if (t.includes("phone") || t.includes("case") || t.includes("iphone") || t.includes("samsung")) cat = "Mobile Accessories";
        else if (t.includes("lamp") || t.includes("light") || t.includes("led")) cat = "Lighting";
        else if (t.includes("toy") || t.includes("kids") || t.includes("baby")) cat = "Toys & Kids";

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">Kategori Tahmini</div>
                ‚Ä¢ Tahmini kategori: <strong>${cat}</strong><br><br>
                Not: Bu sadece ba≈ülƒ±k √ºzerinden Mini AI tahminidir. eBay kategori aƒüacƒ±nda en yakƒ±n kategoriyi se√ßip son kontrol√º yapman √∂nerilir.
            </div>
        `;
    }

    // Cƒ∞RO
    function runRevenue() {
        const prod = parseInt(document.getElementById('rev-prod').value) || 0;
        const daily = parseInt(document.getElementById('rev-daily').value) || 0;
        const price = parseFloat(document.getElementById('rev-price').value) || 0;
        const out = document.getElementById('rev-result');
        if (!prod || !daily || !price) {
            alert("Kanka, √ºr√ºn sayƒ±sƒ± + g√ºnl√ºk satƒ±≈ü + ortalama fiyatƒ± dolduralƒ±m :)");
            return;
        }

        const monthlySales = daily * 30;
        const revenue = monthlySales * price;

        out.innerHTML = `
            <div class="analysis-box">
                <div class="analysis-header">Maƒüaza Ciro Tahmini</div>
                ‚Ä¢ √úr√ºn sayƒ±sƒ±: ${prod}<br>
                ‚Ä¢ G√ºnl√ºk satƒ±≈ü: ${daily}<br>
                ‚Ä¢ Aylƒ±k satƒ±≈ü (tahmini): ${monthlySales}<br>
                ‚Ä¢ Ortalama fiyat: ¬£${price.toFixed(2)}<br><br>
                <strong>Tahmini aylƒ±k ciro:</strong> ¬£${revenue.toFixed(2)}<br><br>
                Not: Bu tahmin, Mini AI varsayƒ±mlarƒ±na dayanƒ±r. Ger√ßek sonu√ßlar, ni≈ü, rekabet ve √ºr√ºn kalitesine g√∂re deƒüi≈üebilir.
            </div>
        `;
    }

    // AI MODE TOGGLE
    function toggleAI() {
        AI_MODE = !AI_MODE;
        const el = document.getElementById('ai-status');
        el.textContent = AI_MODE ? "A√ßƒ±k" : "Kapalƒ±";
        el.style.borderColor = AI_MODE ? "#facc15" : "rgba(148,163,184,0.6)";
        alert("AI Mode: " + (AI_MODE ? "A√ßƒ±k (ileride ger√ßek ChatGPT API ile entegre edilebilir)" : "Kapalƒ± (≈üu an local Mini AI kullanƒ±lƒ±yor)"));
    }
</script>
</body>
</html>
