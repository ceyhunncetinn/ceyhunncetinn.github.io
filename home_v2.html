<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Ceyhun Pro Dashboard v2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            margin: 0;
            background: #0f172a;
            color: #f1f5f9;
            font-family: Arial, sans-serif;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* SIDEBAR */
        .sidebar {
            width: 260px;
            background: #1e293b;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 6px;
            overflow-y: auto;
            border-right: 1px solid #334155;
        }

        .nav-btn {
            background: #334155;
            padding: 10px 12px;
            border-radius: 8px;
            cursor: pointer;
            border: none;
            color: #e2e8f0;
            text-align: left;
            font-size: 14px;
        }

        .nav-btn:hover {
            background: #475569;
        }

        .active-btn {
            background: #22c55e !important;
            color: #032f1c !important;
            font-weight: bold;
        }

        /* PANEL WRAPPER */
        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .panel {
            display: none;
            animation: fadeIn 0.25s ease-in-out;
        }

        .active-panel {
            display: block !important;
        }

        @keyframes fadeIn {
            from {opacity: 0;}
            to {opacity: 1;}
        }

        /* GENEL KART */
        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #334155;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 6px;
        }

        .card-sub {
            font-size: 13px;
            color: #94a3b8;
            margin-bottom: 14px;
        }

        input, textarea, select {
            width: 100%;
            padding: 8px 10px;
            border-radius: 8px;
            border: 1px solid #334155;
            background: #0f172a;
            color: #f1f5f9;
            margin-top: 6px;
        }

        button {
            padding: 10px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }

        .btn-primary {
            background: #22c55e;
            color: #022c22;
            font-weight: bold;
        }

        .btn-outline {
            background: transparent;
            border: 1px solid #22c55e;
            color: #22c55e;
        }

        .analysis-box {
            background: #0f172a;
            border-left: 4px solid #22c55e;
            padding: 10px;
            margin-top: 10px;
            border-radius: 8px;
            font-size: 14px;
        }

        /* MOBILE */
        @media (max-width: 820px) {
            .sidebar {
                width: auto;
                height: 70px;
                flex-direction: row;
                overflow-x: auto;
                white-space: nowrap;
            }

            .nav-btn {
                min-width: 240px;
            }

            body {
                flex-direction: column;
            }

            .content {
                height: calc(100vh - 70px);
            }
        }
    </style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <button class="nav-btn" data-target="panel-mini-ai">ğŸ”— Mini AI Analiz (Link)</button>
    <button class="nav-btn" data-target="panel-drop">ğŸ“¦ Drop Analyzer</button>
    <button class="nav-btn" data-target="panel-product">ğŸ›’ Product Finder</button>
    <button class="nav-btn" data-target="panel-profit">ğŸ’° Profit Calculator</button>
    <button class="nav-btn" data-target="panel-trend">ğŸ“ˆ Trend Explorer</button>
    <button class="nav-btn" data-target="panel-competitor">ğŸª Rakip Analizi</button>
    <button class="nav-btn" data-target="panel-seo">ğŸ“ eBay SEO</button>
    <button class="nav-btn" data-target="panel-auto-cat">ğŸ§  Auto Category</button>
    <button class="nav-btn" data-target="panel-revenue">ğŸ’¸ Ciro Tahmini</button>
    <button class="nav-btn" onclick="toggleAI()">ğŸ¤– AI Mode: <span id="ai-status">KapalÄ±</span></button>
</div>

<!-- CONTENT -->
<div class="content">
<!-- PANEL: MINI AI ANALIZ -->
<section class="panel" id="panel-mini-ai">
    <div class="card">
        <div class="card-title">ğŸ”— Mini AI - Link BazlÄ± ÃœrÃ¼n Analizi</div>
        <div class="card-sub">Sadece eBay linki gir â†’ Ãœcretsiz Mini AI tahmini</div>

        <label>eBay ÃœrÃ¼n Linki</label>
        <input id="mini-link" placeholder="https://www.ebay.co.uk/itm/...">

        <button class="btn-primary" onclick="runMiniAI()">Mini AI Analiz Ã‡alÄ±ÅŸtÄ±r</button>

        <div id="mini-result"></div>
    </div>
</section>

<!-- PANEL: DROP ANALYZER -->
<section class="panel" id="panel-drop">
    <div class="card">
        <div class="card-title">ğŸ“¦ Drop Analyzer</div>
        <div class="card-sub">BaÅŸlÄ±k + alÄ±ÅŸ/satÄ±ÅŸ fiyatÄ± ile manuel analiz</div>

        <label>ÃœrÃ¼n BaÅŸlÄ±ÄŸÄ±</label>
        <textarea id="da-title"></textarea>

        <label>TedarikÃ§i FiyatÄ± (Â£)</label>
        <input id="da-cost" type="number">

        <label>SatÄ±ÅŸ FiyatÄ± (Â£)</label>
        <input id="da-sell" type="number">

        <button class="btn-primary" onclick="runDropAnalyzer()">Analiz Et</button>

        <div id="da-result"></div>
    </div>
</section>

<!-- PANEL: PRODUCT FINDER -->
<section class="panel" id="panel-product">
    <div class="card">
        <div class="card-title">ğŸ›’ Product Finder</div>
        <div class="card-sub">Anahtar kelimeden trend Ã¼rÃ¼n tahmini</div>

        <label>Anahtar Kelime</label>
        <input id="pf-keyword" placeholder="Ã¶r: kitchen organizer">

        <button class="btn-primary" onclick="runProductFinder()">ÃœrÃ¼n Ara</button>

        <div id="pf-result"></div>
    </div>
</section>

<!-- PANEL: PROFIT CALCULATOR -->
<section class="panel" id="panel-profit">
    <div class="card">
        <div class="card-title">ğŸ’° Profit Calculator</div>
        <div class="card-sub">eBay satÄ±ÅŸ Ã¼cretlerine gÃ¶re kÃ¢r hesaplama</div>

        <label>AlÄ±ÅŸ (Â£)</label>
        <input id="pc-cost" type="number">

        <label>SatÄ±ÅŸ (Â£)</label>
        <input id="pc-sell" type="number">

        <label>Kargo (Â£)</label>
        <input id="pc-ship" type="number">

        <button class="btn-primary" onclick="runProfitCalc()">KÃ¢r Hesapla</button>

        <div id="pc-result"></div>
    </div>
</section>

<!-- PANEL: TREND EXPLORER -->
<section class="panel" id="panel-trend">
    <div class="card">
        <div class="card-title">ğŸ“ˆ Trend Explorer</div>
        <div class="card-sub">Anahtar kelimede trend tahmini</div>

        <label>Kelime</label>
        <input id="tr-keyword">

        <button class="btn-primary" onclick="runTrend()">Trend Analizi</button>

        <div id="tr-result"></div>
    </div>
</section>

<!-- PANEL: RAKIP ANALIZI -->
<section class="panel" id="panel-competitor">
    <div class="card">
        <div class="card-title">ğŸª Rakip MaÄŸaza Analizi</div>
        <div class="card-sub">MaÄŸaza adÄ±ndan Mini AI rekabet tahmini</div>

        <label>MaÄŸaza AdÄ±</label>
        <input id="cs-store">

        <button class="btn-primary" onclick="runCompetitor()">Analiz Yap</button>

        <div id="cs-result"></div>
    </div>
</section>

<!-- PANEL: EBAY SEO -->
<section class="panel" id="panel-seo">
    <div class="card">
        <div class="card-title">ğŸ“ eBay SEO Optimizer</div>
        <div class="card-sub">BaÅŸlÄ±k analiz + SEO Ã¶neri</div>

        <label>BaÅŸlÄ±k</label>
        <textarea id="seo-title"></textarea>

        <button class="btn-primary" onclick="runSEO()">SEO Analizi</button>

        <div id="seo-result"></div>
    </div>
</section>

<!-- PANEL: AUTO CATEGORY -->
<section class="panel" id="panel-auto-cat">
    <div class="card">
        <div class="card-title">ğŸ§  Auto Category AI</div>
        <div class="card-sub">BaÅŸlÄ±ktan kategori tahmini</div>

        <label>BaÅŸlÄ±k</label>
        <textarea id="cat-title"></textarea>

        <button class="btn-primary" onclick="runAutoCat()">Kategori Bul</button>

        <div id="cat-result"></div>
    </div>
</section>

<!-- PANEL: STORE REVENUE -->
<section class="panel" id="panel-revenue">
    <div class="card">
        <div class="card-title">ğŸ’¸ Ciro Tahmini</div>
        <div class="card-sub">Mini AI ile aylÄ±k ciro tahmini</div>

        <label>Toplam ÃœrÃ¼n</label>
        <input id="rev-prod" type="number">

        <label>GÃ¼nlÃ¼k SatÄ±ÅŸ</label>
        <input id="rev-daily" type="number">

        <label>Ortalama Fiyat (Â£)</label>
        <input id="rev-price" type="number">

        <button class="btn-primary" onclick="runRevenue()">Ciro Hesapla</button>

        <div id="rev-result"></div>
    </div>
</section>
</div> <!-- .content -->

<script>
    let AI_MODE = false;

    // Panel geÃ§iÅŸ sistemi
    const navButtons = document.querySelectorAll('.nav-btn[data-target]');
    const panels = document.querySelectorAll('.panel');

    function showPanel(id) {
        panels.forEach(p => p.classList.remove('active-panel'));
        const target = document.getElementById(id);
        if (target) target.classList.add('active-panel');

        navButtons.forEach(btn => {
            const t = btn.getAttribute('data-target');
            btn.classList.toggle('active-btn', t === id);
        });
    }

    // Ä°lk aÃ§Ä±lÄ±ÅŸta Mini AI aktif olsun
    if (navButtons.length > 0) {
        const firstTarget = navButtons[0].getAttribute('data-target');
        showPanel(firstTarget);
    }

    navButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const id = btn.getAttribute('data-target');
            if (id) showPanel(id);
        });
    });

    // YardÄ±mcÄ± fonksiyonlar
    function clamp(v, min, max) {
        return Math.min(Math.max(v, min), max);
    }

    function toMoney(n) {
        if (isNaN(n)) return "Â£0.00";
        return "Â£" + n.toFixed(2);
    }

    // ğŸ”— MINI AI - LINK ANALIZ
    function runMiniAI() {
        const input = (document.getElementById('mini-link').value || "").trim();
        const out = document.getElementById('mini-result');
        if (!input) {
            alert("Kanka, Ã¶nce eBay linkini yapÄ±ÅŸtÄ±ralÄ±m :)");
            return;
        }

        let host = "";
        let path = "";
        try {
            const u = new URL(input);
            host = u.hostname || "";
            path = u.pathname || "";
        } catch (e) {
            const parts = input.split("/");
            host = parts[2] || "";
            path = input.replace(host, "");
        }

        let platform = "Bilinmiyor";
        if (host.includes("ebay.co.uk")) platform = "eBay UK";
        else if (host.includes("ebay.com")) platform = "eBay US";
        else if (host.includes("ebay")) platform = "eBay";

        // slug -> baÅŸlÄ±k tahmini
        let slug = path.split("/").pop() || "";
        slug = slug.split("?")[0];
        slug = decodeURIComponent(slug);
        slug = slug.replace(/[-_]/g, " ");
        const words = slug.split(/\s+/).filter(w =>
            w && !/^\d+$/.test(w.toLowerCase()) && !["itm","dp","gp"].includes(w.toLowerCase())
        );
        const titleGuess = words.length ? words.join(" ") : "Genel Ã¼rÃ¼n";

        const t = titleGuess.toLowerCase();
        let category = "Genel";
        if (t.includes("dog") || t.includes("cat") || t.includes("pet")) category = "Pet Supplies";
        else if (t.includes("kitchen") || t.includes("rack") || t.includes("organizer") || t.includes("storage")) category = "Home & Kitchen";
        else if (t.includes("car") || t.includes("auto")) category = "Car Accessories";
        else if (t.includes("phone") || t.includes("case") || t.includes("iphone") || t.includes("samsung")) category = "Mobile Accessories";
        else if (t.includes("toy") || t.includes("kids") || t.includes("baby")) category = "Toys & Kids";
        else if (t.includes("lamp") || t.includes("light") || t.includes("led")) category = "Lighting";
        else if (t.includes("gym") || t.includes("fitness") || t.includes("workout")) category = "Sports & Fitness";

        // Tahmini fiyat
        let basePrice = 19.99;
        if (category === "Pet Supplies") basePrice = 14.99;
        if (category === "Home & Kitchen") basePrice = 17.99;
        if (category === "Car Accessories") basePrice = 16.99;
        if (category === "Mobile Accessories") basePrice = 9.99;
        if (category === "Toys & Kids") basePrice = 13.99;
        if (category === "Lighting") basePrice = 18.99;
        if (category === "Sports & Fitness") basePrice = 21.99;

        if (t.includes("set") || t.includes("pack")) basePrice += 3;
        if (t.includes("pro") || t.includes("premium")) basePrice += 4;

        const minPrice = basePrice - 3;
        const maxPrice = basePrice + 4;

        const supplierCost = basePrice * 0.6;
        const marginPct = ((basePrice - supplierCost) / basePrice) * 100;

        let trendScore = 55;
        if (category === "Pet Supplies" || category === "Home & Kitchen") trendScore += 10;
        if (category === "Sports & Fitness") trendScore += 8;
        if (category === "Mobile Accessories") trendScore -= 5;
        if (t.includes("2024") || t.includes("2025") || t.includes("new")) trendScore += 5;
        trendScore = clamp(trendScore, 20, 95);

        let competition = "Orta";
        if (category === "Mobile Accessories") competition = "YÃ¼ksek";
        else if (category === "Pet Supplies" || category === "Home & Kitchen") competition = "Orta";
        else competition = "Orta-YÃ¼ksek";

        let dropScore = trendScore;
        if (marginPct > 30) dropScore += 8;
        else if (marginPct < 20) dropScore -= 5;
        if (competition === "YÃ¼ksek") dropScore -= 7;
        dropScore = clamp(dropScore, 10, 98);

        let risk = "Orta";
        if (dropScore >= 75) risk = "DÃ¼ÅŸÃ¼k";
        else if (dropScore <= 45) risk = "YÃ¼ksek";

        const lines = [];
        lines.push(`â€¢ Platform: ${platform}`);
        lines.push(`â€¢ Tahmini baÅŸlÄ±k: ${titleGuess}`);
        lines.push(`â€¢ Tahmini kategori: ${category}`);
        lines.push(`â€¢ Tahmini satÄ±ÅŸ fiyat aralÄ±ÄŸÄ±: Â£${minPrice.toFixed(2)} â€“ Â£${maxPrice.toFixed(2)}`);
        lines.push(`â€¢ Tahmini tedarikÃ§i maliyeti: ~Â£${supplierCost.toFixed(2)}`);
        lines.push(`â€¢ Tahmini kÃ¢r marjÄ±: ~${marginPct.toFixed(1)}%`);
        lines.push(`â€¢ Tahmini trend skoru: ${trendScore.toFixed(0)}/100`);
        lines.push(`â€¢ Tahmini drop skoru: ${dropScore.toFixed(0)}/100 (${risk} risk)`);
        lines.push("");

        if (dropScore >= 75) {
            lines.push("Yorum: URLâ€™den Ã§Ä±kan profile gÃ¶re bu Ã¼rÃ¼n niÅŸ + fiyat olarak gayet mantÄ±klÄ±. Test listesi iÃ§in uygun gÃ¶rÃ¼nÃ¼yor.");
        } else if (dropScore >= 55) {
            lines.push("Yorum: Orta seviye bir Ã¼rÃ¼n gibi duruyor. DoÄŸru fiyat, baÅŸlÄ±k ve gÃ¶rselle test edilebilir.");
        } else if (dropScore >= 40) {
            lines.push("Yorum: Riskli tarafta. Bunu ana Ã¼rÃ¼n deÄŸil, yan / ek Ã¼rÃ¼n olarak dÃ¼ÅŸÃ¼nmek daha mantÄ±klÄ± olabilir.");
        } else {
            lines.push("Yorum: Mini AI bu linkten Ã§ok gÃ¼Ã§lÃ¼ sinyal alamadÄ±. Daha saÄŸlÄ±klÄ± niÅŸlere odaklanmak daha iyi olabilir.");
        }

        let tags = "";
        const addTag = (txt, cls) => {
            tags += `<span style="display:inline-block;border-radius:999px;border:1px solid #64748b;padding:2px 8px;font-size:11px;margin:2px;color:#e2e8f0;background:${cls};">${txt}</span>`;
        };

        if (category === "Pet Supplies") addTag("Pet niÅŸi", "rgba(34,197,94,0.15)");
        if (category === "Home & Kitchen") addTag("Home & Kitchen", "rgba(34,197,94,0.15)");
        if (category === "Mobile Accessories") addTag("YÃ¼ksek rekabet", "rgba(248,113,113,0.15)");
        if (dropScore >= 75) addTag("Girmeye deÄŸer (tahmini)", "rgba(34,197,94,0.15)");
        if (dropScore < 45) addTag("Riskli Ã¼rÃ¼n", "rgba(248,113,113,0.15)");
        if (trendScore >= 70) addTag("GÃ¼Ã§lÃ¼ trend", "rgba(34,197,94,0.15)");

        out.innerHTML = `
            <div class="analysis-box">
                ${lines.join("<br>")}
                <div style="margin-top:6px;">${tags}</div>
            </div>
        `;
    }

    // ğŸ“¦ DROP ANALYZER (manuel)
    function runDropAnalyzer() {
        const title = (document.getElementById('da-title').value || "").trim();
        const cost = parseFloat(document.getElementById('da-cost').value) || 0;
        const sell = parseFloat(document.getElementById('da-sell').value) || 0;
        const out = document.getElementById('da-result');

        if (!title || !cost || !sell) {
            alert("Kanka, en azÄ±ndan baÅŸlÄ±k, alÄ±ÅŸ ve satÄ±ÅŸ fiyatÄ±nÄ± girmen lazÄ±m :)");
            return;
        }

        const roughFees = sell * 0.15;
        const profit = sell - cost - roughFees;
        const margin = sell > 0 ? (profit / sell) * 100 : 0;

        let comment = "";
        if (profit <= 0) comment = "Bu fiyat yapÄ±sÄ±yla Ã¼rÃ¼n zararda ya da baÅŸa baÅŸ. FiyatÄ± ve tedarikÃ§iyi gÃ¶zden geÃ§irmek lazÄ±m.";
        else if (margin < 10) comment = "KÃ¢r var ama Ã§ok zayÄ±f. Sadece Ã§ok hÄ±zlÄ± satan Ã¼rÃ¼nler iÃ§in mantÄ±klÄ± olabilir.";
        else if (margin < 25) comment = "Marj fena deÄŸil, test amaÃ§lÄ± listeleme iÃ§in uygun.";
        else comment = "Marj Ã§ok iyi, rekabet uygunsa gayet gÃ¼zel bir Ã¼rÃ¼n.";

        out.innerHTML = `
            <div class="analysis-box">
                <strong>Analiz Ã–zeti</strong><br><br>
                â€¢ ÃœrÃ¼n: ${title}<br>
                â€¢ AlÄ±ÅŸ: ${toMoney(cost)}<br>
                â€¢ SatÄ±ÅŸ: ${toMoney(sell)}<br>
                â€¢ Tahmini platform kesintisi: ${toMoney(roughFees)}<br>
                â€¢ Net kÃ¢r: ${toMoney(profit)}<br>
                â€¢ KÃ¢r marjÄ±: ${margin.toFixed(1)}%<br><br>
                ${comment}
            </div>
        `;
    }

    // ğŸ›’ PRODUCT FINDER
    function runProductFinder() {
        const kw = (document.getElementById('pf-keyword').value || "").trim().toLowerCase();
        const out = document.getElementById('pf-result');
        if (!kw) {
            alert("Kanka, bir anahtar kelime yazalÄ±m: Ã¶rn. kitchen organizer, pet grooming vb.");
            return;
        }

        const base = kw.length > 20 ? kw.slice(0, 20) : kw;
        const ideas = [
            base + " starter kit",
            "premium " + base + " bundle",
            base + " pro set",
            "compact " + base + " solution",
            "multi-purpose " + base
        ];

        let html = `<div class="analysis-box"><strong>Ã–nerilen Ã¼rÃ¼n fikirleri:</strong><br><br>`;
        ideas.forEach((i, idx) => {
            const price = 14.99 + idx * 2;
            const score = clamp(65 + idx * 4, 40, 90);
            html += `â€¢ ${i} â€” Tahmini satÄ±ÅŸ: Â£${price.toFixed(2)} â€” Potansiyel skor: ${score}/100<br>`;
        });
        html += `<br>Bu Ã¼rÃ¼nleri dÃ¼ÅŸÃ¼nÃ¼rken: UK deposu, NET fatura ve kolay kargolanabilir olmasÄ±na dikkat et.</div>`;
        out.innerHTML = html;
    }

    // ğŸ’° PROFIT CALC
    function runProfitCalc() {
        const cost = parseFloat(document.getElementById('pc-cost').value) || 0;
        const sell = parseFloat(document.getElementById('pc-sell').value) || 0;
        const ship = parseFloat(document.getElementById('pc-ship').value) || 0;
        const out = document.getElementById('pc-result');

        if (!cost || !sell) {
            alert("Kanka, alÄ±ÅŸ ve satÄ±ÅŸ fiyatÄ±nÄ± girmeden kÃ¢r hesaplayamayÄ±z :)");
            return;
        }

        const ebayFee = sell * 0.13;
        const payFee = sell * 0.02;
        const totalCost = cost + ship + ebayFee + payFee;
        const profit = sell - totalCost;
        const margin = sell > 0 ? (profit / sell) * 100 : 0;

        let mood = "";
        if (profit <= 0) mood = "Zararda / baÅŸa baÅŸ. Fiyat veya tedarik tarafÄ±nÄ± dÃ¼zeltmek lazÄ±m.";
        else if (margin < 10) mood = "KÃ¢r Ã§ok dÃ¼ÅŸÃ¼k, sadece Ã§ok hÄ±zlÄ± dÃ¶nen Ã¼rÃ¼nlerde anlamlÄ±.";
        else if (margin < 25) mood = "Marj orta, test iÃ§in gayet kullanÄ±labilir.";
        else mood = "GÃ¼zel marj, rekabet uygunsa bu Ã¼rÃ¼n iÅŸ yapar.";

        out.innerHTML = `
            <div class="analysis-box">
                <strong>KÃ¢r HesabÄ±</strong><br><br>
                â€¢ TedarikÃ§i: ${toMoney(cost)}<br>
                â€¢ Kargo: ${toMoney(ship)}<br>
                â€¢ eBay + Ã¶deme kesintisi: ${toMoney(ebayFee + payFee)}<br>
                â€¢ Toplam maliyet: ${toMoney(totalCost)}<br>
                â€¢ Net kÃ¢r: ${toMoney(profit)}<br>
                â€¢ KÃ¢r marjÄ±: ${margin.toFixed(1)}%<br><br>
                ${mood}
            </div>
        `;
    }

    // ğŸ“ˆ TREND EXPLORER
    function runTrend() {
        const kw = (document.getElementById('tr-keyword').value || "").trim().toLowerCase();
        const out = document.getElementById('tr-result');
        if (!kw) {
            alert("Kanka, trend analiz iÃ§in bir kelime yazalÄ±m :)");
            return;
        }

        let score = 50;
        if (kw.includes("pet")) score += 15;
        if (kw.includes("kitchen")) score += 10;
        if (kw.includes("home")) score += 8;
        if (kw.includes("gym") || kw.includes("fitness")) score += 10;
        if (kw.includes("phone") || kw.includes("case")) score -= 5;
        score = clamp(score, 10, 95);

        let risk = "Orta";
        if (score >= 70) risk = "DÃ¼ÅŸÃ¼k";
        else if (score <= 40) risk = "YÃ¼ksek";

        out.innerHTML = `
            <div class="analysis-box">
                <strong>Trend Skoru</strong><br><br>
                â€¢ Kelime: ${kw}<br>
                â€¢ Tahmini trend skoru: ${score}/100<br>
                â€¢ Risk: ${risk}<br><br>
                Not: Bu skor Mini AI tahminidir. GerÃ§ek data ile ileride API baÄŸlandÄ±ÄŸÄ±nda aynÄ± mantÄ±k detaylandÄ±rÄ±labilir.
            </div>
        `;
    }

    // ğŸª RAKÄ°P ANALÄ°ZÄ°
    function runCompetitor() {
        const store = (document.getElementById('cs-store').value || "").trim();
        const out = document.getElementById('cs-result');
        if (!store) {
            alert("Kanka, rakip maÄŸaza adÄ±nÄ± girelim :)");
            return;
        }

        let score = 65;
        if (store.toLowerCase().includes("home") || store.toLowerCase().includes("store")) score += 5;
        if (store.toLowerCase().includes("official") || store.toLowerCase().includes("shop")) score += 5;
        score = clamp(score, 30, 95);

        let risk = "Orta";
        if (score >= 80) risk = "YÃ¼ksek rekabet";
        if (score <= 45) risk = "DÃ¼ÅŸÃ¼k rekabet";

        out.innerHTML = `
            <div class="analysis-box">
                <strong>Rakip MaÄŸaza Analizi</strong><br><br>
                â€¢ MaÄŸaza: ${store}<br>
                â€¢ Tahmini rekabet skoru: ${score}/100<br>
                â€¢ Rekabet yorumu: ${risk}<br><br>
                Yorum: Bu skor Mini AI tahminidir. GerÃ§ek veri Ã§ekildiÄŸinde; Ã¼rÃ¼n sayÄ±sÄ±, satÄ±lan Ã¼rÃ¼n sayÄ±sÄ±, feedback oranÄ± vb. ile geniÅŸletilebilir.
            </div>
        `;
    }

    // ğŸ“ SEO
    function runSEO() {
        const title = (document.getElementById('seo-title').value || "").trim();
        const out = document.getElementById('seo-result');
        if (!title) {
            alert("Kanka, Ã¶nce bir baÅŸlÄ±k yazalÄ±m :)");
            return;
        }

        const words = title.split(/\s+/).filter(Boolean);
        let score = 60;
        if (words.length < 5) score -= 10;
        if (words.length > 14) score -= 5;
        if (title.toLowerCase().includes("stainless")) score += 5;
        if (title.toLowerCase().includes("organizer") || title.toLowerCase().includes("storage")) score += 5;
        if (title.toLowerCase().includes("2024") || title.toLowerCase().includes("2025")) score += 5;
        score = clamp(score, 10, 100);

        const recommended = [
            "Fast UK Shipping",
            "2025 Trending",
            "High Quality",
            "Multi Purpose",
            "Home Use",
            "Gift Idea"
        ];

        out.innerHTML = `
            <div class="analysis-box">
                <strong>SEO Skoru</strong><br><br>
                â€¢ BaÅŸlÄ±k: ${title}<br>
                â€¢ SEO PuanÄ±: ${score}/100<br><br>
                <strong>Ã–nerilen ek kelimeler:</strong><br>
                ${recommended.map(k => "â€¢ " + k).join("<br>")}<br><br>
                Ã–rnek optimize baÅŸlÄ±k:<br>
                ${title} | Fast UK Shipping | 2025 Trending
            </div>
        `;
    }

    // ğŸ§  AUTO CATEGORY
    function runAutoCat() {
        const title = (document.getElementById('cat-title').value || "").trim();
        const out = document.getElementById('cat-result');
        if (!title) {
            alert("Kanka, baÅŸlÄ±k olmadan kategori tahmin edemem :)");
            return;
        }

        const t = title.toLowerCase();
        let cat = "Genel";
        if (t.includes("dog") || t.includes("cat") || t.includes("pet")) cat = "Pet Supplies";
        else if (t.includes("kitchen") || t.includes("rack") || t.includes("organizer") || t.includes("pan")) cat = "Home & Kitchen";
        else if (t.includes("car") || t.includes("auto")) cat = "Car Accessories";
        else if (t.includes("phone") || t.includes("case") || t.includes("iphone") || t.includes("samsung")) cat = "Mobile Accessories";
        else if (t.includes("lamp") || t.includes("light") || t.includes("led")) cat = "Lighting";
        else if (t.includes("toy") || t.includes("kids") || t.includes("baby")) cat = "Toys & Kids";

        out.innerHTML = `
            <div class="analysis-box">
                <strong>Tahmini Kategori:</strong> ${cat}<br><br>
                Bu sadece baÅŸlÄ±ktan Ã§Ä±kan Mini AI tahminidir. eBay kategori aÄŸacÄ±nda en yakÄ±n kategoriyi seÃ§ip ince ayar yapman Ã¶nerilir.
            </div>
        `;
    }

    // ğŸ’¸ CÄ°RO TAHMÄ°NÄ°
    function runRevenue() {
        const prod = parseInt(document.getElementById('rev-prod').value) || 0;
        const daily = parseInt(document.getElementById('rev-daily').value) || 0;
        const price = parseFloat(document.getElementById('rev-price').value) || 0;
        const out = document.getElementById('rev-result');

        if (!prod || !daily || !price) {
            alert("Kanka, Ã¼rÃ¼n sayÄ±sÄ± + gÃ¼nlÃ¼k satÄ±ÅŸ + ortalama fiyatÄ± dolduralÄ±m :)");
            return;
        }

        const monthlySales = daily * 30;
        const revenue = monthlySales * price;

        out.innerHTML = `
            <div class="analysis-box">
                <strong>MaÄŸaza Ciro Tahmini</strong><br><br>
                â€¢ ÃœrÃ¼n sayÄ±sÄ±: ${prod}<br>
                â€¢ GÃ¼nlÃ¼k satÄ±ÅŸ: ${daily}<br>
                â€¢ AylÄ±k satÄ±ÅŸ (tahmini): ${monthlySales}<br>
                â€¢ Ortalama fiyat: Â£${price.toFixed(2)}<br><br>
                <strong>Tahmini aylÄ±k ciro:</strong> Â£${revenue.toFixed(2)}<br><br>
                Not: Bu hesaplama Mini AI tahmine gÃ¶re yapÄ±lÄ±r. GerÃ§ek verilerle ileride daha net modeller kurulabilir.
            </div>
        `;
    }

    // ğŸ¤– AI MODE TOGGLE
    function toggleAI() {
        AI_MODE = !AI_MODE;
        const el = document.getElementById('ai-status');
        el.textContent = AI_MODE ? "AÃ§Ä±k" : "KapalÄ±";
        alert("AI Mode: " + (AI_MODE ? "AÃ§Ä±k (ileride gerÃ§ek ChatGPT API ile entegre edilebilir)" : "KapalÄ± (sadece local Mini AI aktif)"));
    }
</script>

</body>
</html>
